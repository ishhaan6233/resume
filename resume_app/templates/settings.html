{% extends "base.html" %} {% load static %} {% block title %}Settings -
JobJourney{% endblock %} {% block content %}
<link rel="stylesheet" href="{% static 'css/settings.css' %}" />

<div class="settings-page container mt-4">
  <div class="settings-layout">
    <aside class="settings-sidebar">
      <a
        href="{% url 'settings' %}"
        class="settings-link {% if active_section == 'profile' %}active{% endif %}"
      >
        <i class="icon">üë§</i> Profile
      </a>
      <a
        href="{% url 'settings_notifications' %}"
        class="settings-link {% if active_section == 'notifications' %}active{% endif %}"
      >
        <i class="icon">üîî</i> Notifications
      </a>
      <a
        href="{% url 'settings_categories' %}"
        class="settings-link {% if active_section == 'categories' %}active{% endif %}"
      >
        <i class="icon">üìÅ</i> Application Categories
      </a>
      <a
        href="{% url 'settings_appearance' %}"
        class="settings-link {% if active_section == 'appearance' %}active{% endif %}"
      >
        <i class="icon">üé®</i> Appearance
      </a>
      <a
        href="{% url 'settings_accessibility' %}"
        class="settings-link {% if active_section == 'accessibility' %}active{% endif %}"
      >
        <i class="icon">‚ôø</i> Accessibility
      </a>
    </aside>

    <section class="settings-card">
      <div class="card-body">
        {% if active_section == 'profile' %}
        <h4 class="mb-4">Personal Information</h4>
        <form method="post" novalidate>
          {% csrf_token %}
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label
                  for="{{ form.first_name.id_for_label }}"
                  class="form-label"
                  >First Name</label
                >
                {{ form.first_name }} {% if form.first_name.errors %}
                <div class="text-danger">{{ form.first_name.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label
                  for="{{ form.last_name.id_for_label }}"
                  class="form-label"
                  >Last Name</label
                >
                {{ form.last_name }} {% if form.last_name.errors %}
                <div class="text-danger">{{ form.last_name.errors }}</div>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="{{ form.email.id_for_label }}" class="form-label"
              >Email Address</label
            >
            {{ form.email }} {% if form.email.errors %}
            <div class="text-danger">{{ form.email.errors }}</div>
            {% endif %}
          </div>

          <div class="mb-3">
            <label for="{{ form.phone.id_for_label }}" class="form-label"
              >Phone Number</label
            >
            {{ form.phone }} {% if form.phone.errors %}
            <div class="text-danger">{{ form.phone.errors }}</div>
            {% endif %}
          </div>

          <div class="mb-3">
            <label for="{{ form.bio.id_for_label }}" class="form-label"
              >Bio</label
            >
            {{ form.bio }} {% if form.bio.errors %}
            <div class="text-danger">{{ form.bio.errors }}</div>
            {% endif %}
          </div>

          <div class="mb-3">
            <label for="{{ form.display_name.id_for_label }}" class="form-label"
              >Display Name</label
            >
            {{ form.display_name }}
            <div class="help-text">
              This is how your name appears in the application.
            </div>
            {% if form.display_name.errors %}
            <div class="text-danger">{{ form.display_name.errors }}</div>
            {% endif %}
          </div>

          <div class="mb-3">
            <label
              for="{{ form.default_followup_days.id_for_label }}"
              class="form-label"
              >Default follow-up (days)</label
            >
            {{ form.default_followup_days }}
            <div class="help-text">
              Number of days to wait before following up on applications.
            </div>
            {% if form.default_followup_days.errors %}
            <div class="text-danger">
              {{ form.default_followup_days.errors }}
            </div>
            {% endif %}
          </div>

          <button class="btn btn-primary">Save Changes</button>
        </form>

        {% elif active_section == 'notifications' %}
        <h4 class="mb-4">Notification Preferences</h4>
        <form method="post" novalidate>
          {% csrf_token %}
          <div class="form-check mb-4">
            {{ form.email_notifications }}
            <label
              class="form-check-label"
              for="{{ form.email_notifications.id_for_label }}"
            >
              Enable email notifications
            </label>
            <div class="help-text">
              Receive email updates about your job applications and responses.
            </div>
            {% if form.email_notifications.errors %}
            <div class="text-danger">{{ form.email_notifications.errors }}</div>
            {% endif %}
          </div>
          <button class="btn btn-primary">Save Changes</button>
        </form>

        {% elif active_section == 'categories' %}
        <h4 class="mb-4">Application Categories</h4>
        <p class="text-muted mb-4">
          Organize your job applications with custom categories.
        </p>

        <div class="row">
          <div class="col-md-6">
            <div class="card">
              <div class="card-header">
                <h5>Add New Category</h5>
              </div>
              <div class="card-body">
                <form method="post" novalidate>
                  {% csrf_token %}
                  <div class="mb-3">
                    <label for="{{ form.name.id_for_label }}" class="form-label"
                      >Category Name</label
                    >
                    {{ form.name }} {% if form.name.errors %}
                    <div class="text-danger">{{ form.name.errors }}</div>
                    {% endif %}
                  </div>
                  <div class="mb-3">
                    <label
                      for="{{ form.color.id_for_label }}"
                      class="form-label"
                      >Color</label
                    >
                    {{ form.color }} {% if form.color.errors %}
                    <div class="text-danger">{{ form.color.errors }}</div>
                    {% endif %}
                  </div>
                  <div class="mb-3">
                    <label
                      for="{{ form.description.id_for_label }}"
                      class="form-label"
                      >Description</label
                    >
                    {{ form.description }} {% if form.description.errors %}
                    <div class="text-danger">{{ form.description.errors }}</div>
                    {% endif %}
                  </div>
                  <button class="btn btn-primary">Add Category</button>
                </form>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card">
              <div class="card-header">
                <h5>Your Categories</h5>
              </div>
              <div class="card-body">
                {% if categories %} {% for category in categories %}
                <div
                  class="category-item d-flex justify-content-between align-items-center mb-2 p-2 border rounded"
                >
                  <div class="d-flex align-items-center">
                    <span
                      class="category-color me-2"
                      style="background-color: {{ category.color }}; width: 20px; height: 20px; border-radius: 50%;"
                    ></span>
                    <div>
                      <strong>{{ category.name }}</strong>
                      {% if category.description %}
                      <br /><small class="text-muted"
                        >{{ category.description }}</small
                      >
                      {% endif %}
                    </div>
                  </div>
                  <a
                    href="{% url 'delete_category' category_id=category.id %}"
                    class="btn btn-sm btn-outline-danger"
                    onclick="return confirm('Are you sure you want to delete this category?');"
                  >
                    üóëÔ∏è
                  </a>
                </div>
                {% endfor %} {% else %}
                <p class="text-muted">
                  No categories yet. Create your first category to organize your
                  applications.
                </p>
                {% endif %}
              </div>
            </div>
          </div>
        </div>

        {% elif active_section == 'appearance' %}
        <h4 class="mb-4">Appearance Settings</h4>
        <form method="post" novalidate>
          {% csrf_token %}
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label for="{{ form.theme.id_for_label }}" class="form-label"
                  >Theme</label
                >
                {{ form.theme }}
                <div class="help-text">Choose your preferred color theme.</div>
                {% if form.theme.errors %}
                <div class="text-danger">{{ form.theme.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label
                  for="{{ form.primary_color.id_for_label }}"
                  class="form-label"
                  >Primary Color</label
                >
                {{ form.primary_color }}
                <div class="help-text">
                  Customize the primary color of the interface.
                </div>
                {% if form.primary_color.errors %}
                <div class="text-danger">{{ form.primary_color.errors }}</div>
                {% endif %}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label
                  for="{{ form.font_size.id_for_label }}"
                  class="form-label"
                  >Font Size</label
                >
                {{ form.font_size }}
                <div class="help-text">
                  Adjust the text size for better readability.
                </div>
                {% if form.font_size.errors %}
                <div class="text-danger">{{ form.font_size.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-check mb-3">
                {{ form.compact_mode }}
                <label
                  class="form-check-label"
                  for="{{ form.compact_mode.id_for_label }}"
                >
                  Compact Mode
                </label>
                <div class="help-text">
                  Reduce spacing for a more compact interface.
                </div>
                {% if form.compact_mode.errors %}
                <div class="text-danger">{{ form.compact_mode.errors }}</div>
                {% endif %}
              </div>
            </div>
          </div>
          <button class="btn btn-primary">Save Changes</button>
        </form>

        {% elif active_section == 'accessibility' %}
        <h4 class="mb-4">Accessibility Settings</h4>
        <p class="text-muted mb-4">
          Customize the interface to better suit your accessibility needs.
        </p>
        <form method="post" novalidate>
          {% csrf_token %}
          <div class="row">
            <div class="col-md-6">
              <div class="form-check mb-3">
                {{ form.high_contrast }}
                <label
                  class="form-check-label"
                  for="{{ form.high_contrast.id_for_label }}"
                >
                  High Contrast Mode
                </label>
                <div class="help-text">
                  Increase contrast for better visibility.
                </div>
                {% if form.high_contrast.errors %}
                <div class="text-danger">{{ form.high_contrast.errors }}</div>
                {% endif %}
              </div>
              <div class="form-check mb-3">
                {{ form.reduced_motion }}
                <label
                  class="form-check-label"
                  for="{{ form.reduced_motion.id_for_label }}"
                >
                  Reduce Motion
                </label>
                <div class="help-text">
                  Minimize animations and transitions.
                </div>
                {% if form.reduced_motion.errors %}
                <div class="text-danger">{{ form.reduced_motion.errors }}</div>
                {% endif %}
              </div>
              <div class="form-check mb-3">
                {{ form.screen_reader_friendly }}
                <label
                  class="form-check-label"
                  for="{{ form.screen_reader_friendly.id_for_label }}"
                >
                  Screen Reader Friendly
                </label>
                <div class="help-text">
                  Optimize interface for screen readers.
                </div>
                {% if form.screen_reader_friendly.errors %}
                <div class="text-danger">
                  {{ form.screen_reader_friendly.errors }}
                </div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-check mb-3">
                {{ form.keyboard_navigation }}
                <label
                  class="form-check-label"
                  for="{{ form.keyboard_navigation.id_for_label }}"
                >
                  Enhanced Keyboard Navigation
                </label>
                <div class="help-text">
                  Improve keyboard navigation support.
                </div>
                {% if form.keyboard_navigation.errors %}
                <div class="text-danger">
                  {{ form.keyboard_navigation.errors }}
                </div>
                {% endif %}
              </div>
              <div class="form-check mb-3">
                {{ form.focus_indicators }}
                <label
                  class="form-check-label"
                  for="{{ form.focus_indicators.id_for_label }}"
                >
                  Enhanced Focus Indicators
                </label>
                <div class="help-text">Make focus indicators more visible.</div>
                {% if form.focus_indicators.errors %}
                <div class="text-danger">
                  {{ form.focus_indicators.errors }}
                </div>
                {% endif %}
              </div>
            </div>
          </div>
          <button class="btn btn-primary">Save Changes</button>
        </form>
        {% endif %}
      </div>
    </section>
  </div>
</div>

<style>
  .settings-page {
    max-width: 1200px;
    margin: 0 auto;
  }

  .settings-layout {
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 2rem;
    min-height: 600px;
  }

  .settings-sidebar {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 1.5rem;
    height: fit-content;
  }

  .settings-link {
    display: flex;
    align-items: center;
    padding: 0.75rem 1rem;
    margin-bottom: 0.5rem;
    color: #6c757d;
    text-decoration: none;
    border-radius: 6px;
    transition: all 0.2s ease;
  }

  .settings-link:hover {
    background: #e9ecef;
    color: #495057;
    text-decoration: none;
  }

  .settings-link.active {
    background: #007bff;
    color: white;
  }

  .settings-link .icon {
    margin-right: 0.75rem;
    font-size: 1.1em;
  }

  .settings-card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .card-body {
    padding: 2rem;
  }

  .help-text {
    font-size: 0.875rem;
    color: #6c757d;
    margin-top: 0.25rem;
  }

  .category-item {
    transition: all 0.2s ease;
  }

  .category-item:hover {
    background: #f8f9fa;
  }

  .category-color {
    display: inline-block;
    border: 2px solid #dee2e6;
  }

  @media (max-width: 768px) {
    .settings-layout {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .settings-sidebar {
      order: 2;
    }

    .settings-card {
      order: 1;
    }
  }
</style>
{% endblock %}
