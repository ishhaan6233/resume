{% extends "base.html" %} {% block title %}Applications - JobJourney{% endblock %} {% block content %}
<h1>Job Applications</h1>

<!-- Tabs -->
<div class="tabs">
  <a
    href="{% url 'applications' %}?status=all"
    class="tab {% if active_filter == 'all' %}active{% endif %}"
    >All</a
  >
  <a
    href="{% url 'applications' %}?status=Applied"
    class="tab {% if active_filter == 'Applied' %}active{% endif %}"
    >Applied</a
  >
  <a
    href="{% url 'applications' %}?status=Interview"
    class="tab {% if active_filter == 'Interview' %}active{% endif %}"
    >Interview</a
  >
  <a
    href="{% url 'applications' %}?status=Offer"
    class="tab {% if active_filter == 'Offer' %}active{% endif %}"
    >Offer</a
  >
  <a
    href="{% url 'applications' %}?status=Rejected"
    class="tab {% if active_filter == 'Rejected' %}active{% endif %}"
    >Rejected</a
  >
</div>

<!-- Action bar -->
<div class="actions">
  <a href="{% url 'add_application' %}" class="btn">+ Add New Application</a>

  <!-- Search form -->
  <form method="get" style="flex: 1; display: flex">
    <input
      type="text"
      name="search"
      value="{{ search_query }}"
      class="search"
      placeholder="Search applications..."
      style="flex: 1; margin-right: 8px"
    />
    <!-- Preserve current tab filter -->
    <input type="hidden" name="status" value="{{ active_filter }}" />
    <button type="submit" class="btn" style="min-width: 100px">Search</button>
  </form>
</div>

<!-- Applications Table -->
<table class="applications-table">
  <thead>
    <tr>
      <th>Company</th>
      <th>Position</th>
      <th>Date Applied</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for app in applications %}
    <tr>
      <td>{{ app.company }}</td>
      <td>{{ app.position }}</td>
      <td>{{ app.date }}</td>
      <td><span class="status {{ app.status }}">{{ app.status }}</span></td>
      <td>
        <a href="#" class="action-icon">üóëÔ∏è</a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5">No applications yet.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
